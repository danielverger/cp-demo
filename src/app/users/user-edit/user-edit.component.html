<div class="flex flex-column">
  <form [formGroup]="userForm">
  <div class="flex grid m-0 align-items-center">
    <app-form-field-molecule
    [labelText]="'Nombre'"
    [labelFor]="'nombre'"
    [required]="true"
    formName="name"
    [group]="userForm"
    class="col-6"
    [loading]="loading"
    >
    </app-form-field-molecule>
    <app-form-field-molecule
    [labelText]="'Apellidos'"
    [labelFor]="'apellidos'"
    [required]="true"
    formName="surname"
    [group]="userForm"
    class="col-6"
    [loading]="loading"
    >
    </app-form-field-molecule>
    <app-form-field-molecule
    [labelText]="'Email'"
    [labelFor]="'email'"
    [required]="true"
    formName="email"
    [group]="userForm"
    class="col-12"
    [loading]="loading"
    >
    </app-form-field-molecule>

    <div class="field col-12">
      <app-label-atom 
        [text]="'Tipo usuario'" 
        [forId]="'tipo'" 
        [class]="'mb-2 block'" 
        [required]="true">
      </app-label-atom>
      
      @if(loading) {
        <p-skeleton height="2rem"></p-skeleton>
      } @else {
        <p-selectButton id="tipo" [options]="tipos" formControlName="type" optionLabel="name" optionValue="code"></p-selectButton>
      }

    </div>

  </div>
  <div class="flex justify-content-end gap-2">
    <p-button label="Cancelar" severity="secondary" (onClick)="closeDialog()" />
    <p-button label="Guardar" (onClick)="saveUser()" [disabled]="userForm.invalid" />
  </div>
  </form>
</div>
